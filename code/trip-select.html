<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>Add a Gem - Hidden Gems</title>
		<link rel="stylesheet" href="css/main.css">
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
		<link rel="preconnect" href="https://fonts.googleapis.com">
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
		<link href="https://fonts.googleapis.com/css2?family=Nunito:ital,wght@0,200..1000;1,200..1000&display=swap" rel="stylesheet">


		<style>
			*,
			*::before,
			*::after {
				font-family: inherit;
				box-sizing: border-box;
			}

			body {
				font-family: 'Nunito', sans-serif;
			}

			.progress-bar {
				height: 20px;
				border-radius: 10px;
				margin: 0 40px 10px;
				background-color: lightgray;
				display: flex;
			}
			.place-container {
				margin: 15px 0 0 40px;
			}
			.title {
				font-size: 24px;
				font-weight: 500;
			}

			.recommendation-image {
				width: 100%;
				height: 200px;
				background-color: #ddd;
				display: flex;
				justify-content: center;
				align-items: center;
			}
			.recommendation-details {
				padding: 12px;
			}

			.detail {
				margin-bottom: 5px;
				font-size: 14px;
				font-weight: 700;
			}

			.recommendation-detail-icon {
				margin-right: 3px;
			}

			.quiz-option {
				display: inline-flex;
				align-items: center;
				padding: 10px 16px;
				margin: 0 40px 10px 20px;
				border-radius: 20px;
				background-color: #f6d375;
				cursor: pointer;
				transition: background-color 0.2s;
			}
			.moving-progress {
				height: 20px;
				width: 0; /*dynamic */
				border-radius: 10px;
				background-color: green;
			}
			.review-box {
				height: 200px;
				margin: 30px 60px 60px 40px;
				background-color: rgba(255, 255, 255, 0.637);
				border-radius: 10px;
				padding: 10px;
			}
			.state-change {
				padding: 5px;
				background-color: rgb(230, 230, 230);
			}
		</style>

	</head>

	<body>

		<div class="page-container">
			<button onclick="goBack()" style="position: absolute; top: 1px; left: 0px;
																	                    z-index: 1000; font-size: 20px;
																						background: none; border: none; cursor: pointer;
																						color: black; font-weight: 600;">
				‚Üê Back
			</button>

			<div
				class="flex flex-column">
				<!-- <div id="map" style="width:100%;height:200px"></div> -->
				<div>
					<image src="./assets/trip_mode.jpg" style="width:100%;height:250px;margin-top: 40px"/>
					<div style="position: absolute; top: 140px; left: 240px; color: white; font-size: 20px; font-weight: 600;" id="time-left">
						1 hr 30 left
					</div>
				</div>
				<div>
					<div class="progress-bar">
						<div
							class="moving-progress" id="moving-progress"><!-- progress div -->
						</div>
						<span style="margin-left: 280px;">üèÅ</span>


					</div>
					<!-- <span style="font-weight:bold; display:block; text-align: right; margin-right: 40px" >time left</span> -->
				</div>


				<div class="place-container">
					<div>
						<div class="title" id="title" style="font-weight: 800; font-size: xx-large;">Mission Peak</div>
					</div>

					<div class="">
						<div class="quiz-option" style="font-size: 14px; font-weight: 700; color:rgb(255, 255, 255); padding: 6px 12px; margin-left: 0;">Super Rare Gem</div>
						<div class="detail">
							<i class="fas fa-location-dot" style="color:#f6d375"></i>
							<span id="address">43600 Mission Blvd, Fremont, CA</span>
						</div>
						<div class="detail">
							<i class="fas fa-clock" style="color:#f6d375"></i>
							<span>6:00 AM - 10:00 PM | $</span>
						</div>
						<!-- <div style="display: flex; gap: 8px; margin-top: 12px;">
																																																												                        <div class="quiz-option" style="font-size: 12px; padding: 6px 12px; margin: 0;">Outdoor</div>
																																																												                        <div class="quiz-option" style="font-size: 12px; padding: 6px 12px; margin: 0;">Nature</div>
																																																												                    </div> -->
					</div>


					<!-- Navigation wheel component will be loaded here -->
					<div id="nav-wheel-container"></div>
				</div>

				<div class="review-box">
					<image src="./assets/avataaars.jpg" style="width:60px; height:60px"></image>
				<span style="font-size: 16px; font-weight: 700;">"This trail has amazing views especially for sunset."</span>
				<span style="font-size: 14px; font-weight: 500; text-align: center; display: block; margin-top: 10px;">"Dog friendly!"</span>

				<image src="./assets/dog.jpg" style="width:60px; height:60px; margin-left:190px; margin-top:5px"></image>

			<button style="background-color: rgb(153, 206, 153); margin-top: 30px; margin-left: 40px" onclick="goToSpecificLocation()">Open in Google Maps</button>

		</div>
	</body>
	<div style="margin: 60px 50px 30px 10px; text-align: right;">
		<button class="state-change" id="state-1">
			<i class="fas fa-arrow-right"></i>
		</button>
		<button class="state-change" id="state-2">
			<i class="fas fa-arrow-right"></i>
		</button>
		<span style="font-size: 12px; font-weight: 300;">for demo</span>
	</div>
</html></div><script>let data_text = {};
									fetch('./assets/data/gem.json').then(response => response.json()).then(data => {
										console.log(data); // Use your data here
										data_text = data[0]
										document.getElementById('title').innerText = data_text["name"];
										document.getElementById('address').innerText = data_text["coordinates"];
										document.getElementById('open').innerText = data_text["open"];
										document.getElementById('title').innerText = data_text["name"];
										document.getElementById('title').innerText = data_text["name"];
									}).catch(error => console.error('Error loading JSON:', error));
									let latitude = 0;
									let longitude = 0;
									if (navigator.geolocation) {
										navigator.geolocation.getCurrentPosition((position) => {
											latitude = position.coords.latitude;
											longitude = position.coords.longitude;
											console.log(`Latitude: ${latitude}, Longitude: ${longitude}`);
											// Initialize MapLibre map
											const map = new maplibregl.Map({
												container: 'map',
												style: 'https://api.maptiler.com/maps/basic-v2/style.json?key=hbvo5fWE9HuC6JUHKB9q',
												center: [
													latitude, longitude
												],
												zoom: 1
											});
										}, (error) => {
											console.error("Error getting location:", error);
										});
									} else {
										console.error("Geolocation is not supported by this browser.");
									}
									
									console.log(`Latitude: ${latitude}, Longitude: ${longitude}`);
									
									
									document.getElementById('state-1').onclick = function () {
										const progressBar = document.getElementById('moving-progress');
										progressBar.style.width = 20 + '%';
										document.getElementById('time-left').innerText = "30 min left";
									}
									
									document.getElementById('state-2').onclick = function () {
										const progressBar = document.getElementById('moving-progress');
										progressBar.style.width = 100 + '%';
										document.getElementById('time-left').innerText = "Arrived!";
										document.getElementById('time-left').style.marginLeft = "15px";
									}
									
									function goToSpecificLocation() {
										const coordinates = data_text["coordinates"];
										const url = `https://www.google.com/maps?q=${coordinates}`;
										window.open(url, "_blank");
									}
									function goBack() {
									    window.location.href = "landing-page.html?skipWelcome=1";
									}
									
									
									
									// function updateProgress(percent) {
									
									// }</script></body></html>
